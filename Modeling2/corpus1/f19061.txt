pytest-mock thin wrapper around mock package easier use py test pytest mock pytest mock test-code-block-python mocked mocks mocking tests methods method pytest-mock use useful uses assertions asserting version module console assertion-errors internal-traceback catches introspection confusing patching-api functions function functionality like black undo e underlying undoing-patches stub