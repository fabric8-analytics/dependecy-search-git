thread python threadpool processpool executor decorator way reduce copy paste code python thread multithreading decorator python asyncio pool multithreading thread asyncio development python code thread thread thread test test test packaged-tested versions-note automatically alt coverage shutdown manipulation decorator decorator function function functional usage loop package free